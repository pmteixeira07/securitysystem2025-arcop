###########################################################
# Global Motion Configuration
###########################################################

# --- 1. System Mode ---
# Set to "off" to see errors in the terminal.
daemon off

# File to store the process ID (essential for stop/restart scripts)
pid_file /var/run/motion/motion.pid

# --- 2. Logs and Debug ---
# Log level: 6 = Info/Notice, 7 = Debug
log_level 6
# Save logs to file
log_file /etc/motion/logs/motion.log

# --- 3. Basic Image Settings (Defaults) ---
# These settings apply unless overwritten in threadX.conf
width 1280
height 720
framerate 10

# Palette 8 is MJPEG
video_params palette=8

# --- 4. Recording Control (Events) ---
# Pixel threshold to detect motion
threshold 1500
noise_level 32
# Frames of "silence" to end the event
event_gap 10

# Images (JPEGs)
picture_output off
picture_quality 75

# Video (MKV)
movie_output on
movie_max_time 0
movie_quality 60
movie_codec mkv

# Storage location (Global - each camera should have its own folder in threadX.conf)
target_dir /var/www/html/media

# --- 5. Stream Server ---
stream_quality 50
stream_maxrate 10        
# Limits stream FPS to avoid network saturation
stream_localhost off
# "off" allows access from other PCs
stream_auth_method arcop2025
# 0 = No password

# --- 6. Control API ---
# Port used to send commands via CGI scripts
webcontrol_port 8080
webcontrol_localhost on  
# "on" = Security (local access only)
webcontrol_parms 2       
# 2 = Full access to settings

# --- 7. Camera Modules ---
# IMPORTANT: Camera files must use absolute paths
camera /etc/motion/camera1.conf
camera /etc/motion/camera2.conf
